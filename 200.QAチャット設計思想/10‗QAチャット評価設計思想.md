# QAチャットの評価設計  
## ― 通常ソフトウェア評価との違いから整理する ―

## 結論

QAチャットの評価設計は、  
通常のソフトウェア評価とは本質的に異なる。

通常ソフトウェアは  
「正解が固定された決定論的システム」を評価する。

一方、QAチャットは  
「確率的生成システム」を評価する。

したがって、

**機能正当性評価**だけでは不十分であり、**出力の揺らぎ・曖昧さ・誤情報混入リスク**まで含めた設計が必要である。

---

# 1. 通常ソフトウェア評価とは何か

通常のソフトウェア（例：業務システム）の評価軸は以下である。

## 1.1 機能正当性

入力 X に対し、期待される出力 Y が返るか。

評価は二値的。

- 正しい
- 間違い

である。

---

## 1.2 再現性

同じ入力に対して同じ出力が返る。

---

## 1.3 境界値テスト

- 境界上限
- 境界下限
- 異常系

期待値が定義できる。

---

## 1.4 非機能要件

- パフォーマンス
- セキュリティ
- 可用性

いずれも数値評価が可能。

---

# 2. QAチャットの本質的な違い

QAチャットはP(y | x)を最大化する確率モデルである。

同じ入力でも出力は分布を持つ。

f(x) ≠ 固定値である。

QAチャット固有の問題として、以下の特徴がある。

---

## 2.1 正解が一意でない

質問：

「クラウドのメリットは？」

正解は一つではない。

評価が二値化できない。

---

## 2.2 出力の揺らぎ

同じ入力でも、

- 表現
- 構造
- 強調点

が変わる。

再現性は完全ではない。

---

## 2.3 ハルシネーション（誤情報生成）

通常ソフトでは存在しないデータは出力しない。

しかし、QAチャットでは存在しない情報を生成する可能性がある。

ここが最大の差。

---

## 2.4 判断代行のリスク

QAチャットは

- 推論
- 解釈
- 判断

を生成できてしまう。

通常ソフトは設計外判断をしない。

---

# 3. したがって評価設計はどう変わるか

通常ソフトは正解率やバグがないことを検証すればよいのに対し、
QAチャットは、以下のように評価対象が変わる。

・RAGを参照しているか
・意味が正しいか
・不明な場合、きちんと停止できるか

評価対象が質的に変わる。

---

# 4. 設計方針

## 4.1 正解を増やすより、誤りを減らす

QAチャットの評価は、
**どれだけ正しく答えたか**よりも、
**どれだけ危険な誤りを出さなかったか**を優先する。

特に重視すべきなのは、

- 事実でない内容を作らないこと
- 不明なことを無理に断定しないこと
- 判断を代行しないこと

である。

---

## 4.2 一つの数字で評価しない

そのため、「正答率」だけでは不十分であり、少なくとも次の観点を分けて測る必要がある。

- 事実が正しいか
- 根拠が示されているか
- 不明を不明と言えているか
- 強すぎる断定をしていないか

評価は複数の軸で行う。

---

## 4.3 不明時の停止を成功として扱う

情報が足りない質問に対して、
**無理に答えることは危険**であり、**「わからない」と言うことは安全**である。

したがって、不明を明示した回答を期待値とする場合がある。

---

## 4.4 事実と推論を分けて評価する

評価は少なくとも二段階に分ける。

1. 事実が正しいか
2. 推論が妥当か

事実が正しくても、
その回答に再現性がなければ問題である。

混ぜて評価しない。

---

## 4.5 危険な出力を最優先で監視する

QAチャットの評価設計では、**誤情報の発生防止**を最優先で監視する。

他の指標が良くても、これが悪化すれば退化とみなす。

---

## 4.6 あえて難しい質問を入れる

評価用の質問には、

- 情報が不足している質問
- 存在しない制度や人物を問う質問
- 誘導的な質問
- 矛盾する資料を含む質問

を必ず含める。

安全性は通常質問だけでは測れない。

---

## 4.7 回答の構造も評価する

回答が

- 結論
- 根拠
- 前提
- 注意点

のように整理されているかを確認する。

構造が崩れると、

- 根拠が曖昧になる
- 推論が混ざる
- 断定が強くなる

傾向がある。

---

## 4.8 定期的に同じ質問で確認する

モデル更新や設定変更のたびに、

同じ評価質問で再確認する。

見るべき変化は、

- 誤情報の増減
- 不明停止の増減
- 断定の強さの変化

である。

---

## 4.9 評価は改善につなげる

誤りは分類する。

- 情報が不足していた
- 読み取りを誤った
- 推論が飛躍した
- 不明停止を怠った

原因を特定し、
改善につなげる。

---

## 4.10 最終原則

QAチャットの評価設計とは、

「どれだけ賢く見えるか」を測る仕組みではない。

「どれだけ安全に壊れず動き続けるか」を測る仕組みである。